---
layout: post
title: Git, GitHub 기초 정리 - 03. 원격저장소로 협업하기
subtitle : fork, rebase, amend, cherry-pick, reset, revert, stach
tags: [Git]
author: Sohyun Kim
comments : False
---

<h3>#원본저장소를 복사해서 원격저장소 만들기(fork)</h3>   
협업자가 많은 경우 한 저장소에서 여러면의 협력자가 같이 작업을 하면 이력관리가 어려움. 오픈소스를 예로들수 있음. 원본저장소를 복사해 본인의 GitHub에 새 원격저장소를 생성하고 이곳에 자유롭게 커밋을 올리며 작업을 할수 있음. 원본저장소에 소스를 추가하려면 원본저장소 소유자가 협력자로 등록해야 하며, 협력자로 등록되면 작업 후 풀리퀘스트를 통해 소유자에서 코드커밋을 요청할 수 있음.   
<br>
<b>브랜치가 평행세계라면 포크는 평행우주를 만드는 것!</b>
<br>   
<br>   
- - -   
<br>   
<br>   
<h3>#재배치(rebase)</h3>   
풀리퀘스트를 보냈을 때 충돌이 난 경우 두가지 방법을 통해 해결할 수 있음.   
- 현재 커밋과 병합하고 싶은 커밋을 미리 내 브랜치에서 병합하여 병합커밋을 만들고 이를 풀리퀘스트로 보내기   
- 이력관리를 위해 병합커밋이 생기지 않도록 베이스커밋의 위치를 변경하여 충돌을 해결하는 리베이스를 이용하기   
   
> $ git rebase --continue : 충돌 후 리베이스 계속하기   
> $ git rebase --skip   
> $ git rebase --abort : 리베이스 취소하기
   
<br>
<br>   
- - -   
<br>   
<br>   
<h3>#직전 커밋 수정하기(amend-아멘드)</h3>   
직전에 작업하여 커밋한 내용을 수정하고 싶을 때 현재 작업한 내용과 함께 다시 수정하여 커밋할 수 있음. 원격저장소까지 푸시한 경우 로컬에서 수정한 뒤 원격에 푸시할때는 강제푸시가 필요한데, 소스트리에서는 제공하지 않아 `git push --force`명령어를 사용해야함.   
   
> $ git commit --amend
   
<br>
<br>   
- - -   
<br>   
<br>   
<h3>#커밋 하나만 떼서 브랜치로 붙이기(cherry-pick)</h3>   
여러명이 함께 작업할 경우, 커밋된 작업 내용 중 하나의 커밋만 선택하여 특정브랜치에 병합하고 싶은 경우 사용함.   
   
> $ git cherry-pick [COMMIT_HASH_NUMBER]
   
같은 작업내용의 커밋을 복사하는 거지만, 체리픽 후 커밋아이디는 달라짐.   
<br>
<br>   
- - -   
<br>   
<br>   
<h3>#예전 커밋으로 되돌리기(reset)</h3>   
새로운 기능을 위해 작업하던 중 요청사항이 변경되어 이전 커밋으로 돌아가야 할때, 이 명령어를 쓸 수 있음.   
이 명령어에는 세 가지 옵션이 필요함.

- hard : 이 커밋 이후의 모든 작업 중이던 변경사항과 커밋을 신경쓰지 않고 깔끔하게 히스토리를 돌려버린다는 의미   
- soft/mixed : 이 커밋 이후의 커밋을 없던 걸로 되돌리고 변경사항들에 대한 작업내용을 지우는 것이 아니라 남겨두는 것을 의미함. 작업내용을 스테이지 위에 남겨두는 것을 soft 옵션이며, 스테이지 아래 남겨두어 필요한 내용만 다시 add 할 수 있도록 하는 것이 mixed 옵션의 차이임.   
   
amend 명령어와 마찬가지로 변경된 reset 사항도 원격저장소에 푸시하기 위해선 강제푸시 기능을 사용해야함.   
      
> $ git reset HEAD^
   
<br>
<br>   
- - -   
<br>   
<br>   
<h3>#커밋 변경사항 되돌리기(revert)</h3>   
reset 명령어의 경우 이력에 남지않도록 모든 것을 되돌려버린다면 revert 명령어는 변경사항을 되돌리는 새로운 커밋을 만드는 것을 의미함.   
   
> $ git revert HEAD
   
<br>
<br>   
- - -   
<br>   
<br>   
<h3>#변경사항 임시저장하기(stash-스태시)</h3>   
reset 명령어의 경우 이력에 남지않도록 모든 것을 되돌려버린다면 revert 명령어는 변경사항을 되돌리는 새로운 커밋을 만드는 것을 의미함.   
스태시에는 tracked(추적가능-한번이라도 git에 올렸던 상태) 상태인 파일들만 넣어둘 수 있음. 즉, 새로 만든 파일은 넣어두기 불가능.    
   
> // 임시저장하기   
> $ git stash   
   
> // 임시저장 가져오기   
> $ git stash pop
   
<br>
<br>
<i class="far fa-bookmark"></i><b>팀 개발을 위한 Git-GitHub 시작하기 - 정호영, 진유림 지음</b>